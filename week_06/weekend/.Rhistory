library(tidyverse)
data(msleep)
glimpse(msleep)
View(msleep)
msleep %>%
summarise(across(.cols = everything(),
.fns = ~sum(is.na(.x))))
msleep %>%
summarise(across(.cols = everything(),
.fns = ~sum(is.na(.x))))
msleep  %>%
ggplot(aes(x = sleep_total)) +
geom_histogram(col = "white")
msleep  %>%
ggplot(aes(x = sleep_total)) +
geom_boxplot()
msleep  %>%
ggplot(aes(x = sleep_total)) +
geom_histogram(col = "white", binwidth = 1)
msleep  %>%
ggplot(aes(x = sleep_total)) +
geom_boxplot()
msleep  %>%
ggplot(aes(x = sleep_total)) +
geom_histogram(col = "white", binwidth = 0.5)
msleep  %>%
ggplot(aes(x = sleep_total)) +
geom_boxplot()
msleep  %>%
ggplot(aes(x = sleep_total)) +
geom_histogram(col = "white", binwidth = 1)
msleep  %>%
ggplot(aes(x = sleep_total)) +
geom_boxplot()
msleep  %>%
ggplot(aes(x = sleep_total)) +
geom_histogram(col = "white", binwidth = 2)
msleep  %>%
ggplot(aes(x = sleep_total)) +
geom_boxplot()
msleep  %>%
ggplot(aes(x = sleep_total)) +
geom_histogram(col = "white", binwidth = 0.5)
msleep  %>%
ggplot(aes(x = sleep_total)) +
geom_boxplot()
msleep  %>%
ggplot(aes(x = sleep_total)) +
geom_histogram(col = "white", binwidth = 0.25)
msleep  %>%
ggplot(aes(x = sleep_total)) +
geom_boxplot()
msleep  %>%
ggplot(aes(x = sleep_total)) +
geom_histogram(col = "white", binwidth = 1)
msleep  %>%
ggplot(aes(x = sleep_total)) +
geom_boxplot()
?xlim
msleep  %>%
ggplot(aes(x = sleep_total)) +
geom_histogram(col = "white", binwidth = 1) +
xlim(0, 25)
msleep  %>%
ggplot(aes(x = sleep_total)) +
geom_boxplot() +
xlim(0, 25)
msleep  %>%
ggplot(aes(x = sleep_total)) +
geom_histogram(col = "white", binwidth = 1) +
xlim(0, 22)
msleep  %>%
ggplot(aes(x = sleep_total)) +
geom_boxplot() +
xlim(0, 22)
observed_stat <- msleep %>%
summarise(mean_sleep = mean(sleep_total))
observed_stat
# specify that we want to look at sleep_total variable, 5000 reps, and want to calculate the mean
infer_resample <- msleep %>%
specify(response = sleep_total) %>%
hypothesize(null = "point", mu = 7) %>%
generate(reps = 10000, type = "bootstrap") %>%
calculate(stat = "mean")
library(tidyverse)
library(infer)
msleep %>%
data() %>%
glimpse()
data(msleep) %>%
glimpse()
data(msleep)
glimpse(msleep)
msleep %>%
summarise(across(.cols = everything(),
.fns = ~sum(is.na(.x))))
msleep  %>%
ggplot(aes(x = sleep_total)) +
geom_histogram(col = "white", binwidth = 1) +
xlim(0, 22)
msleep  %>%
ggplot(aes(x = sleep_total)) +
geom_boxplot() +
xlim(0, 22)
observed_stat <- msleep %>%
summarise(mean_sleep = mean(sleep_total))
observed_stat
# specify that we want to look at sleep_total variable, 5000 reps, and want to calculate the mean
infer_resample <- msleep %>%
specify(response = sleep_total) %>%
hypothesize(null = "point", mu = 7) %>%
generate(reps = 10000, type = "bootstrap") %>%
calculate(stat = "mean")
View(infer_resample)
null_distribution %>%
visualise(bins = 30)
null_distribution %>%
visualize(bins = 30)
View(infer_resample)
# specify that we want to look at sleep_total variable, 5000 reps, and want to calculate the mean
null_distribution <- msleep %>%
specify(response = sleep_total) %>%
hypothesize(null = "point", mu = 7) %>%
generate(reps = 10000, type = "bootstrap") %>%
calculate(stat = "mean")
null_distribution %>%
visualize(bins = 30)
null_distribution %>%
visualize(bins = 30) +
shade_p_value(obs_stat = observed_stat$mean_sleep, direction = "both")
p_value <- null_distribution %>%
get_p_value(obs_stat = observed_stat$mean_sleep, direction = "both")
p_value
View(p_value)
p_value <- null_distribution %>%
get_p_value(obs_stat = observed_stat$mean_sleep, direction = "both") %>%
pull()
p_value
p_value <- null_distribution %>%
get_p_value(obs_stat = observed_stat$mean_sleep, direction = "both")
p_value
q()
library(tidyverse)
data(msleep)
library(tidyverse)
library(infer)
data(msleep)
glimpse(msleep)
msleep %>%
summarise(across(.cols = everything(),
.fns = ~sum(is.na(.x))))
msleep  %>%
ggplot(aes(x = sleep_total)) +
geom_histogram(col = "white", binwidth = 1) +
xlim(0, 22)
msleep  %>%
ggplot(aes(x = sleep_total)) +
geom_boxplot() +
xlim(0, 22)
observed_stat <- msleep %>%
summarise(mean_sleep = mean(sleep_total))
observed_stat
# specify that we want to look at sleep_total variable, 5000 reps, and want to calculate the mean
null_distribution <- msleep %>%
specify(response = sleep_total) %>%
hypothesize(null = "point", mu = 7) %>%
generate(reps = 10000, type = "bootstrap") %>%
calculate(stat = "mean")
null_distribution %>%
visualize(bins = 30) +
shade_p_value(obs_stat = observed_stat$mean_sleep, direction = "both")
p_value <- null_distribution %>%
get_p_value(obs_stat = observed_stat$mean_sleep, direction = "both")
p_value
knitr::include_graphics("images/freq_bought_together.jpeg")
library(tidyverse)
transactions <- read_csv("data/online_retail_subset.csv")
head(transactions, 20)
library(arules)
msleep
msleep %>%
distinct(vore)
msleep_prop <- msleep %>%
filter(vore == "omni", vore == "herbi") %>%
mutate(vore_flag = if_else(vore == "herbi", "herbivore", "not_herbivore"))
View(msleep_prop)
View(msleep)
msleep_prop <- msleep %>%
filter(vore == "omni"| vore == "herbi") %>%
mutate(vore_flag = if_else(vore == "herbi", "herbivore", "not_herbivore"))
View(msleep_prop)
View(msleep)
msleep_prop <- msleep %>%
filter(vore == "omni"| vore == "omni") %>%
mutate(vore_flag = if_else(vore == "omni", "omnivore", "not_omnivore"))
observed_stat <- msleep_prop %>%
specify(response = vore_lang, success = "omnivore") %>%
calculate(stat = "prop")
observed_stat <- msleep_prop %>%
specify(response = vore_flag, success = "omnivore") %>%
calculate(stat = "prop")
View(msleep_prop)
msleep_prop <- msleep %>%
filter(vore == "omni"| vore == "herbi") %>%
mutate(vore_flag = if_else(vore == "omni", "omnivore", "not_omnivore"))
observed_stat <- msleep_prop %>%
specify(response = vore_flag, success = "omnivore") %>%
calculate(stat = "prop")
observed_stat
View(msleep_prop)
null_distribution <- msleep_prop %>%
specify(response = vore_flag, success = "omnivore")%>%
hypothesize(null = "point", p = 1) %>%
generate(reps = 5000, type = "draw") %>%
calculate(stat = "prop")
View(msleep_prop)
null_distribution <- msleep_prop %>%
specify(response = vore_flag, success = "omnivore")%>%
hypothesize(null = "point", p = 1) %>%
generate(reps = 1000, type = "draw") %>%
calculate(stat = "prop")
msleep_prop <- msleep %>%
filter(vore == "omni"| vore == "herbi") %>%
mutate(vore_flag = if_else(vore == "omni", "omnivore", "not_omnivore"))
msleep_prop
observed_stat <- msleep_prop %>%
specify(response = vore_flag, success = "omnivore") %>%
calculate(stat = "prop")
observed_stat
msleep_prop %>%
distinct(vore)
null_distribution <- msleep_prop %>%
specify(response = vore_flag, success = "omnivore") %>%
hypothesize(null = "point", p = 1) %>%
generate(reps = 5000, type = "draw") %>%
calculate(stat = "prop")
msleep_prop %>%
distinct(vore_flag)
msleep_prop %>%
distinct(vore, vore_flag)
null_distribution <- msleep_prop %>%
specify(response = vore_flag, success = "omnivore") %>%
hypothesize(null = "point", p = 0.1) %>%
generate(reps = 5000, type = "draw") %>%
calculate(stat = "prop")
null_distribution <- msleep_prop %>%
specify(response = vore_flag, success = "omnivore") %>%
hypothesize(null = "point", p = 1) %>%
generate(reps = 5000, type = "draw") %>%
calculate(stat = "prop")
null_distribution <- msleep_prop %>%
specify(response = vore_flag, success = "omnivore") %>%
hypothesize(null = "point", p = 0.9999) %>%
generate(reps = 5000, type = "draw") %>%
calculate(stat = "prop")
null_distribution <- msleep_prop %>%
specify(response = vore_flag, success = "omnivore") %>%
hypothesize(null = "point", p = 1.001) %>%
generate(reps = 5000, type = "draw") %>%
calculate(stat = "prop")
null_distribution <- msleep_prop %>%
specify(response = vore_flag, success = "omnivore") %>%
hypothesize(null = "point", p = 1) %>%
generate(reps = 5000, type = "draw") %>%
calculate(stat = "prop")
msleep_prop <- msleep %>%
filter(vore == "omni"| vore == "herbi") %>%
select(vore, sleep_total)
head(msleep)
msleep_prop <- msleep %>%
filter(vore == "omni"| vore == "herbi") %>%
select(vore, sleep_total)
head(msleep_prop)
msleep_hrs <- msleep %>%
filter(vore == "omni"| vore == "herbi") %>%
select(vore, sleep_total)
head(msleep_hrs)
msleep_hrs %>%
group_by(vore) %>%
summarise(n = n())
msleep_hrs %>%
ggplot(aes(y = hrs_sleep, x = vore)) +
geom_boxplot()
msleep_hrs %>%
ggplot(aes(y = sleep_total, x = vore)) +
geom_boxplot()
null_distribution <- msleep_hrs %>%
specify(sleep_total ~ vore) %>%
hypothesize(null = "independence") %>%
generate(reps = 1000, type = "permute") %>%
calculate(stat = "diff in means", order = c("omnivore", "herbivore"))
null_distribution <- msleep_hrs %>%
specify(sleep_total ~ vore) %>%
hypothesize(null = "independence") %>%
generate(reps = 1000, type = "permute") %>%
calculate(stat = "diff in means", order = c("omni", "herbi"))
head(null_distribution)
observed_stat <- msleep_hrs %>%
specify(sleep_total ~ vore) %>%
calculate(stat = "diff in means", order = c("omni", "herbi"))
observed_stat
null_distribution %>%
visualise() +
shade_p_value(obs_stat = observed_stat, direction = "right")
p_value <- null_distribution %>%
get_p_value(obs_stat = observed_stat, direction = "left")
p_value
View(msleep)
msleep_conservation <- msleep %>%
filter(!is.na(conservation))
View(msleep_conservation)
msleep_conservation  %>%
group_by(conservation) %>%
summarise(prop = n()/nrow(msleep_conservation)) %>%
filter(conservation == "domesticated")
msleep_conservation_prop <- msleep_conservation %>%
mutate(conservation_flag = if_else(conservation == "domesticated", "domesticated", "not_domesticated"))
View(msleep_conservation_prop)
observed_stat <- msleep_conservation_prop %>%
specify(response = conservation_flag, success = "domesticated") %>%
calculate(stat = "prop")
observed_stat
observed_stat <- msleep_conservation_prop %>%
specify(response = conservation_flag, success = "domesticated") %>%
hypothesize(null = "point", p = 0.05) %>%
generate(reps = 5000, type = "draw") %>%
calculate(stat = "prop")
head(null_distribution)
null_distribution %>%
visualise(bins = 30)
null_distribution %>%
visualise(binwidth = 0.25)
null_distribution %>%
visualise(binwidth = 0.125)
null_distribution %>%
visualise(binwidth = 0.1)
null_distribution %>%
visualise(binwidth = 0.05)
null_distribution %>%
visualise(binwidth = 0.005)
null_distribution %>%
visualise(bins = 30)
null_distribution %>%
visualise(binwdth = 0.25)
null_distribution %>%
visualise(binwdth = 0.125)
null_distribution %>%
visualise(binwdth = 0.1)
null_distribution %>%
visualise(binwdth = 0.01)
null_distribution %>%
visualise(bins = 30) +
shade_p_value(obs_stat = observed_stat, direction = "more")
observed_stat <- msleep_conservation_prop %>%
specify(response = conservation_flag, success = "domesticated") %>%
hypothesize(null = "point", p = 0.05) %>%
generate(reps = 5000, type = "draw") %>%
calculate(stat = "prop")
head(observed_stat)
null_distribution <- msleep_conservation_prop %>%
specify(response = conservation_flag, success = "domesticated") %>%
hypothesize(null = "point", p = 0.05) %>%
generate(reps = 5000, type = "draw") %>%
calculate(stat = "prop")
head(observed_stat)
null_distribution %>%
visualise(bins = 30) +
shade_p_value(obs_stat = observed_stat, direction = "more")
observed_stat <- books_tidy_prop %>%
specify(response = conservation_flag, success = "domesticated") %>%
calculate(stat = "prop")
observed_stat <- msleep_conservation_prop %>%
specify(response = conservation_flag, success = "domesticated") %>%
calculate(stat = "prop")
observed_stat
null_distribution %>%
visualise(bins = 30) +
shade_p_value(obs_stat = observed_stat, direction = "more")
null_distribution <- msleep_conservation_prop %>%
specify(response = conservation_flag, success = "domesticated") %>%
hypothesize(null = "point", p = 0.05) %>%
generate(reps = 50000, type = "draw") %>%
calculate(stat = "prop")
head(observed_stat)
observed_stat <- msleep_conservation_prop %>%
specify(response = conservation_flag, success = "domesticated") %>%
calculate(stat = "prop")
observed_stat
null_distribution %>%
visualise(bins = 30) +
shade_p_value(obs_stat = observed_stat, direction = "more")
null_distribution %>%
visualise(bins = 10) +
shade_p_value(obs_stat = observed_stat, direction = "more")
null_distribution %>%
visualise(bins = 20) +
shade_p_value(obs_stat = observed_stat, direction = "more")
null_distribution %>%
visualise(bins = 15) +
shade_p_value(obs_stat = observed_stat, direction = "more")
null_distribution %>%
visualise(bins = 12) +
shade_p_value(obs_stat = observed_stat, direction = "more")
library(tidyverse)
data(msleep)
library(tidyverse)
library(infer)
data(msleep)
glimpse(msleep)
msleep %>%
summarise(across(.cols = everything(),
.fns = ~sum(is.na(.x))))
msleep  %>%
ggplot(aes(x = sleep_total)) +
geom_histogram(col = "white", binwidth = 1) +
xlim(0, 22)
msleep  %>%
ggplot(aes(x = sleep_total)) +
geom_boxplot() +
xlim(0, 22)
observed_stat <- msleep %>%
summarise(mean_sleep = mean(sleep_total))
observed_stat
# specify that we want to look at sleep_total variable, 5000 reps, and want to calculate the mean
null_distribution <- msleep %>%
specify(response = sleep_total) %>%
hypothesize(null = "point", mu = 7) %>%
generate(reps = 10000, type = "bootstrap") %>%
calculate(stat = "mean")
null_distribution %>%
visualize(bins = 30) +
shade_p_value(obs_stat = observed_stat$mean_sleep, direction = "both")
p_value <- null_distribution %>%
get_p_value(obs_stat = observed_stat$mean_sleep, direction = "both")
p_value
msleep_hrs <- msleep %>%
filter(vore == "omni"| vore == "herbi") %>%
select(vore, sleep_total)
head(msleep_hrs)
msleep_hrs %>%
group_by(vore) %>%
summarise(n = n())
msleep_hrs %>%
ggplot(aes(y = sleep_total, x = vore)) +
geom_boxplot()
null_distribution <- msleep_hrs %>%
specify(sleep_total ~ vore) %>%
hypothesize(null = "independence") %>%
generate(reps = 1000, type = "permute") %>%
calculate(stat = "diff in means", order = c("omni", "herbi"))
head(null_distribution)
observed_stat <- msleep_hrs %>%
specify(sleep_total ~ vore) %>%
calculate(stat = "diff in means", order = c("omni", "herbi"))
observed_stat
null_distribution %>%
visualise() +
shade_p_value(obs_stat = observed_stat, direction = "right")
p_value <- null_distribution %>%
get_p_value(obs_stat = observed_stat, direction = "left")
p_value
msleep_conservation <- msleep %>%
filter(!is.na(conservation))
msleep_conservation  %>%
group_by(conservation) %>%
summarise(prop = n()/nrow(msleep_conservation)) %>%
filter(conservation == "domesticated")
msleep_conservation_prop <- msleep_conservation %>%
mutate(conservation_flag = if_else(conservation == "domesticated", "domesticated", "not_domesticated"))
null_distribution <- msleep_conservation_prop %>%
specify(response = conservation_flag, success = "domesticated") %>%
hypothesize(null = "point", p = 0.05) %>%
generate(reps = 50000, type = "draw") %>%
calculate(stat = "prop")
head(observed_stat)
observed_stat <- msleep_conservation_prop %>%
specify(response = conservation_flag, success = "domesticated") %>%
calculate(stat = "prop")
observed_stat
null_distribution %>%
visualise(bins = 12) +
shade_p_value(obs_stat = observed_stat, direction = "more")
null_distribution <- msleep_conservation_prop %>%
specify(response = conservation_flag, success = "domesticated") %>%
hypothesize(null = "point", p = 0.05) %>%
generate(reps = 50000, type = "draw") %>%
calculate(stat = "prop")
head(null_distribution)
observed_stat <- msleep_conservation_prop %>%
specify(response = conservation_flag, success = "domesticated") %>%
calculate(stat = "prop")
observed_stat
null_distribution %>%
visualise(bins = 12) +
shade_p_value(obs_stat = observed_stat, direction = "more")
p_value <- null_distribution %>%
get_p_value(obs_stat = observed_stat, direction = "less")
p_value
p_value <- null_distribution %>%
get_p_value(obs_stat = observed_stat, direction = "more")
p_value <- null_distribution %>%
get_p_value(obs_stat = observed_stat, direction = "greater")
p_value
q()
